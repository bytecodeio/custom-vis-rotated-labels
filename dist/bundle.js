(()=>{var e={create:function(e,n){},updateAsync:function(e,n,t,a,i,r){n.innerHTML="",n.innerHTML="\n      <style>\n       @import url(https://fonts.googleapis.com/css?family=Open+Sans);\n\n         body{\n          font-family: 'Open Sans',serif;\n          font-weight:bold\n         }\n        #chartdiv {\n          height:100%;\n          min-height: 500px;\n          width: 100%;\n\n        }\n\n      </style>\n    ";var o=document.createElement("div");o.setAttribute("id","chartdiv"),n.append(o);var s=1===a.fields.dimensions.length,d=1===a.fields.measures.length;s&&d||(n.innerHTML="<p style='text-align:center;font-size:1.25em;padding-top:2em;font-family: 'Open Sans',serif;'>Incompatible Data. This chart requires <em>one dimension</em> and <em>one measure</em>.<br>For example, name and count.</p>"),formattedData=[];var m=a.fields.dimensions[0].name,l=a.fields.measures[0].name;console.log(m),console.log(l),e.forEach((function(e){formattedData.push({country:e[m].value,count:e[l].value})})),am5.ready((function(){var e=am5.Root.new("chartdiv"),n=am5.Theme.new(e);n.rule("Grid",["base"]).setAll({strokeOpacity:.1}),e.setThemes([am5themes_Animated.new(e),n]);var t=e.container.children.push(am5xy.XYChart.new(e,{panX:!1,panY:!1,wheelX:"none",wheelY:"none"})),a=am5xy.AxisRendererY.new(e,{minGridDistance:30});a.grid.template.set("location",1);var i=t.yAxes.push(am5xy.CategoryAxis.new(e,{maxDeviation:0,categoryField:"country",renderer:a})),r=t.xAxes.push(am5xy.ValueAxis.new(e,{maxDeviation:0,min:0,renderer:am5xy.AxisRendererX.new(e,{visible:!0,strokeOpacity:.1})})),o=t.series.push(am5xy.ColumnSeries.new(e,{name:"Series 1",xAxis:r,yAxis:i,valueXField:"count",sequencedInterpolation:!0,categoryYField:"country"})),s=o.columns.template;s.setAll({draggable:!0,cursorOverStyle:"pointer",tooltipText:"drag to rearrange",cornerRadiusBR:10,cornerRadiusTR:10,strokeOpacity:0}),s.adapters.add("fill",(function(e,n){return t.get("colors").getIndex(o.columns.indexOf(n))})),s.adapters.add("stroke",(function(e,n){return t.get("colors").getIndex(o.columns.indexOf(n))})),s.events.on("dragstop",(function(){!function(){o.dataItems.sort((function(e,n){return n.get("graphics").y()-e.get("graphics").y()}));var e=am5.ease.out(am5.ease.cubic);am5.array.each(i.dataItems,(function(n){var t=function(e){for(var n=0;n<o.dataItems.length;n++){var t=o.dataItems[n];if(t.get("categoryY")==e)return t}}(n.get("category"));if(t){var r=o.dataItems.indexOf(t),s=t.get("graphics"),d=a.positionToCoordinate(i.indexToPosition(r))-s.height()/2;if(r!=n.get("index")){n.set("index",r);var m=s.x(),l=s.y();s.set("dy",-(d-l)),s.set("dx",m),s.animate({key:"dy",to:0,duration:600,easing:e}),s.animate({key:"dx",to:0,duration:600,easing:e})}else s.animate({key:"y",to:d,duration:600,easing:e}),s.animate({key:"x",to:0,duration:600,easing:e})}})),i.dataItems.sort((function(e,n){return e.get("index")-n.get("index")}))}()})),i.data.setAll(formattedData),o.data.setAll(formattedData),o.appear(1e3),t.appear(1e3,100)})),r()}};looker.plugins.visualizations.add(e)})();